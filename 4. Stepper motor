STEPPER MOTOR:
#include <reg51.h>

void delay(unsigned int time);

void main() 
{
    P0 = 0x00;

    while (1) 
    {
        P0 = 0x09;   // Step 1
        delay(100);

        P0 = 0x0A;   // Step 2
        delay(100);

        P0 = 0x06;   // Step 3
        delay(100);

        P0 = 0x05;   // Step 4 (missing earlier)
        delay(100);
    }
}

void delay(unsigned int time) 
{
    unsigned int i;
    TMOD = 0x10;        // Timer1 mode 1

    for (i = 0; i < time; i++) 
    {
        TH1 = 0xFF;     // Reload for approx 1ms
        TL1 = 0x49;
        TR1 = 1;        // Start Timer
        while (TF1 == 0); 
        TR1 = 0;        // Stop Timer
        TF1 = 0;        // Reset overflow flag
    }
}
